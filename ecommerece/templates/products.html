{% include "navbar.html" %}
{% block content %}

<h2 style="text-align:center; margin:30px 0; font-weight:700;">{{ section.section_name }}'s Collection</h2>

<div class="container">
  <div class="row">
    {% for product in section.sections.all %}
    <div class="col-md-4 mb-4">
      <a href="{% url 'moredetails' product.id %}" style="text-decoration:none; color:black">
        <div class="card card-body" 
             style="margin:1%; border-radius:10px; box-shadow:0 4px 10px rgba(0,0,0,0.2); transition: transform 0.3s;">
          {% if product.product_img %}
          <img src="{{ product.product_img.url }}" alt="{{ product.product_name }}" 
               style="width:100%; height:250px; object-fit:cover; border-radius:10px 10px 0 0;">
          {% endif %}
          
          <h2 style="text-align:center; margin:15px 0; font-size:20px; font-weight:600;">
            {{ product.product_name }}
          </h2>
          
          <div style="display:flex; justify-content:center; gap:8px; margin-bottom:10px;">
            <h6 style="margin:0;"><i class="bi bi-currency-rupee"></i>{{ product.product_price }}</h6>
            <!-- Optional: old price -->

            {% if product.product_price < 400 %} 

            <h6 style="margin:0;"><del style="color:darkgray">500</del></h6>

            {% elif product.product_price < 900 %}

            <h6 style="margin:0;"><del style="color:darkgray">1000</del></h6>

            {% elif product.product_price < 2000 %}

            <h6 style="margin:0;"><del style="color:darkgray">3576</del></h6>

            {% elif product.product_price < 3000 %}

            <h6 style="margin:0;"><del style="color:darkgray">5050</del></h6>

            {% elif product.product_price < 4000 %}

            <h6 style="margin:0;"><del style="color:darkgray">6000</del></h6>

            {% elif product.product_price < 5000 %}

            <h6 style="margin:0;"><del style="color:darkgray">8000</del></h6>

            {% elif product.product_price < 6000 %}

            <h6 style="margin:0;"><del style="color:darkgray">10000</del></h6>

            {% elif product.product_price < 7000 %}

            <h6 style="margin:0;"><del style="color:darkgray">10000</del></h6>
            
            {% elif product.product_price < 8000 %}

            <h6 style="margin:0;"><del style="color:darkgray">11200</del></h6>
            {% elif product.product_price < 9000 %}

            <h6 style="margin:0;"><del style="color:darkgray">15000</del></h6>

            {% endif %}
          </div>
          
          <div style="display:flex; justify-content:center; gap:10px; margin:15px 0;">
                     <a href="{% url 'add_to_cart' product.id %}">

              <button class="btn btn-primary" style="transition:0.3s;"
                      onmouseover="this.style.transform='scale(1.1)';"
                      onmouseout="this.style.transform='scale(1)';">Add to Cart</button>
            </a>
            <button class="btn" style="border:1px solid black; background:white; transition:0.3s;"
                    onmouseover="this.style.background='black'; this.style.color='white';"
                    onmouseout="this.style.background='white'; this.style.color='black';">❤️ Wishlist</button>
          </div>
          
        </div>
      </a>
    </div>
    {% empty %}
      <p style="text-align:center; margin-top:50px;">No products available in this section.</p>
    {% endfor %}
  </div>
</div>
<button style="paddding-left:6%;margin-left:6.1rem" class="btn btn-danger" onclick="window.history.back()"><i class="bi bi-arrow-left"></i> Back</button>

{% endblock content %}
{% include "fotter.html" %}

